# å•æ–‡ä»¶å¤šè¯­è¨€æ¶æ„æŒ‡å—

## æ¦‚è¿°

æœ¬é¡¹ç›®ä½¿ç”¨**æ¨¡æ¿é¢„ç”Ÿæˆ**æ–¹æ¡ˆå®ç°å¤šè¯­è¨€æ”¯æŒï¼Œé¿å…ç»´æŠ¤é‡å¤çš„è¯­è¨€æ–‡ä»¶ã€‚

### æ ¸å¿ƒæ€æƒ³
- **å•ä¸€æ¨¡æ¿æº**ï¼šåœ¨ `_templates/` ç»´æŠ¤ä¸€ä»½é¡µé¢æ¨¡æ¿
- **è‡ªåŠ¨ç”Ÿæˆ**ï¼šè„šæœ¬ä»æ¨¡æ¿ç”Ÿæˆ `en/` å’Œ `zh/` ä¸‹çš„è¯­è¨€ç‰¹å®šæ–‡ä»¶
- **æ— éœ€æ’ä»¶**ï¼šå®Œå…¨å…¼å®¹ GitHub Pagesï¼Œä¸ä¾èµ–è‡ªå®šä¹‰ Jekyll æ’ä»¶

## ç›®å½•ç»“æ„

```
_templates/          # ğŸ“ æ¨¡æ¿æºæ–‡ä»¶ï¼ˆç¼–è¾‘è¿™é‡Œï¼‰
â”œâ”€â”€ index.html
â”œâ”€â”€ about/
â”œâ”€â”€ games/
â”œâ”€â”€ blog/
â””â”€â”€ products/

_locale/             # ğŸŒ ç¿»è¯‘æ•°æ®
â””â”€â”€ page_titles.yml  # é¡µé¢æ ‡é¢˜ç¿»è¯‘

scripts/             # ğŸ”§ æ„å»ºè„šæœ¬
â”œâ”€â”€ generate_pages.rb  # ä¸»ç”Ÿæˆè„šæœ¬
â””â”€â”€ watch.rb          # å¼€å‘ç›‘å¬è„šæœ¬

en/                  # ğŸ‡¬ğŸ‡§ ç”Ÿæˆçš„è‹±æ–‡æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œä¸è¦ç¼–è¾‘ï¼‰
zh/                  # ğŸ‡¨ğŸ‡³ ç”Ÿæˆçš„ä¸­æ–‡æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œä¸è¦ç¼–è¾‘ï¼‰
```

## å·¥ä½œæµç¨‹

### 1. ç¼–è¾‘é¡µé¢å†…å®¹

ç¼–è¾‘ `_templates/` ä¸­çš„æ¨¡æ¿æ–‡ä»¶ï¼š

```yaml
---
layout: default
ref: home    # ç”¨äºæŸ¥æ‰¾æ ‡é¢˜å’Œé“¾æ¥ç¿»è¯‘
---

{% assign t = site.data.translations[page.lang] %}
<h1>{{ t.hero_title }}</h1>
```

**æ³¨æ„**ï¼š
- åªéœ€è¦ `layout` å’Œ `ref` å­—æ®µ
- ä¸éœ€è¦ `lang` å’Œ `title`ï¼ˆè„šæœ¬ä¼šè‡ªåŠ¨æ·»åŠ ï¼‰

### 2. æ·»åŠ é¡µé¢æ ‡é¢˜ç¿»è¯‘

åœ¨ `_locale/page_titles.yml` ä¸­æ·»åŠ å¯¹åº”çš„ `ref` ç¿»è¯‘ï¼š

```yaml
home:
  en: "Pidan Workshop"
  zh: "çš®è›‹å·¥ä½œå®¤"
```

### 3. ç”Ÿæˆè¯­è¨€æ–‡ä»¶

è¿è¡Œç”Ÿæˆè„šæœ¬ï¼š

```bash
ruby scripts/generate_pages.rb
```

æˆ–ä½¿ç”¨ Makefileï¼š

```bash
make generate
```

### 4. æœ¬åœ°é¢„è§ˆ

å¯åŠ¨ Jekyll æœåŠ¡å™¨ï¼š

```bash
make dev
```

è®¿é—® `http://localhost:4000`

## ç”Ÿæˆè„šæœ¬è¯¦è§£

### generate_pages.rb

**åŠŸèƒ½**ï¼š
1. è¯»å– `_templates/` ä¸­çš„æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶
2. è§£æ front matter ä¸­çš„ `ref` å€¼
3. ä» `_locale/page_titles.yml` æŸ¥æ‰¾å¯¹åº”çš„æ ‡é¢˜
4. ä¸ºæ¯ç§è¯­è¨€ç”Ÿæˆç‹¬ç«‹æ–‡ä»¶åˆ° `en/` å’Œ `zh/`

**è¿è¡Œç¤ºä¾‹**ï¼š

```bash
$ ruby scripts/generate_pages.rb

[INFO] Starting page generation from templates...
[INFO] Loading configuration files...
[INFO] Found 2 languages: en, zh
[INFO] Found 5 template files
[INFO] Processing: _templates/index.html
[SUCCESS] Generated: en/index.html
[SUCCESS] Generated: zh/index.html
...
[SUCCESS] Generated: 10 files
```

### é”™è¯¯å¤„ç†

è„šæœ¬ä¼šéªŒè¯ï¼š
- æ¨¡æ¿å¿…é¡»åŒ…å« `ref` å­—æ®µ
- `ref` å¿…é¡»åœ¨ `_locale/page_titles.yml` ä¸­å­˜åœ¨
- æ¯ç§è¯­è¨€å¿…é¡»æœ‰å¯¹åº”çš„æ ‡é¢˜

å¦‚æœå‡ºé”™ï¼Œä¼šæ˜¾ç¤ºæ¸…æ™°çš„é”™è¯¯ä¿¡æ¯ã€‚

## æ·»åŠ æ–°é¡µé¢

### æ­¥éª¤ 1ï¼šåˆ›å»ºæ¨¡æ¿

åœ¨ `_templates/` ä¸­åˆ›å»ºæ–°é¡µé¢ï¼š

```html
<!-- _templates/contact/index.html -->
---
layout: default
ref: contact
---

{% assign t = site.data.translations[page.lang] %}

<section>
    <h1>{{ t.contact_title }}</h1>
    <!-- é¡µé¢å†…å®¹ -->
</section>
```

### æ­¥éª¤ 2ï¼šæ·»åŠ æ ‡é¢˜ç¿»è¯‘

åœ¨ `_locale/page_titles.yml` ä¸­æ·»åŠ ï¼š

```yaml
contact:
  en: "Contact Us"
  zh: "è”ç³»æˆ‘ä»¬"
```

### æ­¥éª¤ 3ï¼šç”Ÿæˆå¹¶æµ‹è¯•

```bash
make generate
make dev
```

## æ·»åŠ æ–°è¯­è¨€

### æ­¥éª¤ 1ï¼šæ³¨å†Œè¯­è¨€

åœ¨ `_data/languages.yml` ä¸­æ·»åŠ ï¼š

```yaml
ja:
  name: "æ—¥æœ¬èª"
  flag: "ğŸ‡¯ğŸ‡µ"
```

### æ­¥éª¤ 2ï¼šæ·»åŠ ç¿»è¯‘

åœ¨æ‰€æœ‰ç¿»è¯‘æ–‡ä»¶ä¸­æ·»åŠ æ—¥è¯­ç¿»è¯‘ï¼š

**_locale/page_titles.yml**ï¼š
```yaml
home:
  en: "Pidan Workshop"
  zh: "çš®è›‹å·¥ä½œå®¤"
  ja: "ãƒ”ãƒ€ãƒ³å·¥æˆ¿"
```

**_data/translations.yml**ï¼š
```yaml
ja:
  nav_home: "ãƒ›ãƒ¼ãƒ "
  # ... å…¶ä»–ç¿»è¯‘
```

### æ­¥éª¤ 3ï¼šç”Ÿæˆ

è„šæœ¬ä¼šè‡ªåŠ¨ç”Ÿæˆ `ja/` ç›®å½•ä¸‹çš„æ‰€æœ‰é¡µé¢ï¼š

```bash
make generate
```

## Git å·¥ä½œæµ

### æäº¤å†…å®¹

**åº”è¯¥æäº¤**ï¼š
- âœ… `_templates/` ä¸­çš„æ¨¡æ¿æ–‡ä»¶
- âœ… `_locale/` ä¸­çš„ç¿»è¯‘æ–‡ä»¶
- âœ… `scripts/` ä¸­çš„è„šæœ¬
- âœ… `_data/`, `_includes/`, `_layouts/` ç­‰

**ä¸åº”è¯¥æäº¤**ï¼š
- âŒ `en/` å’Œ `zh/` ä¸‹çš„ç”Ÿæˆæ–‡ä»¶ï¼ˆå·²åœ¨ `.gitignore` ä¸­ï¼‰

### .gitignore é…ç½®

```gitignore
# ç”Ÿæˆçš„è¯­è¨€æ–‡ä»¶
/en/
/zh/

# ä½†ä¿ç•™ _posts/ ä¸‹çš„è¯­è¨€ç›®å½•
!/_posts/en/
!/_posts/zh/
```

### GitHub Actions è‡ªåŠ¨æ„å»º

æ¨é€åˆ° `main` åˆ†æ”¯åï¼ŒGitHub Actions ä¼šï¼š

1. è¿è¡Œ `ruby scripts/generate_pages.rb`
2. æ„å»º Jekyll ç«™ç‚¹
3. éƒ¨ç½²åˆ° GitHub Pages

å®Œå…¨è‡ªåŠ¨åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚

## å¼€å‘æŠ€å·§

### ä½¿ç”¨ Makefile

```bash
# æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤
make help

# ç”Ÿæˆé¡µé¢
make generate

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆè‡ªåŠ¨ç”Ÿæˆ + Jekyll serveï¼‰
make dev

# ä»…å¯åŠ¨ Jekyllï¼ˆä¸é‡æ–°ç”Ÿæˆï¼‰
make serve

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
make build

# æ¸…ç†ç”Ÿæˆæ–‡ä»¶
make clean
```

### ç›‘å¬æ¨¡æ¿å˜åŒ–ï¼ˆå¯é€‰ï¼‰

å®‰è£… `listen` gem åï¼Œå¯ä»¥ä½¿ç”¨ç›‘å¬è„šæœ¬ï¼š

```bash
gem install listen
ruby scripts/watch.rb
```

è¿™ä¼šè‡ªåŠ¨ç›‘å¬ `_templates/` å’Œ `_locale/` çš„å˜åŒ–å¹¶é‡æ–°ç”Ÿæˆã€‚

## åšå®¢æ–‡ç« 

åšå®¢æ–‡ç« **ä¸ä½¿ç”¨æ¨¡æ¿ç³»ç»Ÿ**ï¼Œä»ç„¶åœ¨ `_posts/en/` å’Œ `_posts/zh/` ä¸­åˆ†åˆ«ç»´æŠ¤ã€‚

åŸå› ï¼š
- åšå®¢å†…å®¹é€šå¸¸è¾ƒé•¿ä¸”ç‹¬ç«‹
- éœ€è¦ç‹¬ç«‹ç¼–è¾‘å’Œå‘å¸ƒ
- ä¸é€‚åˆæ¨¡æ¿åŒ–

åˆ›å»ºåšå®¢æ–‡ç« ï¼š

```markdown
<!-- _posts/en/2025-12-19-new-post.md -->
---
layout: post
title: "New Post Title"
date: 2025-12-19
lang: en
ref: new-post
---

Content here...
```

## æ•…éšœæ’é™¤

### é—®é¢˜ï¼šç”Ÿæˆçš„æ–‡ä»¶ç¼ºå°‘æ ‡é¢˜

**åŸå› **ï¼š`_locale/page_titles.yml` ä¸­ç¼ºå°‘å¯¹åº”çš„ `ref`

**è§£å†³**ï¼šæ·»åŠ ç¿»è¯‘åé‡æ–°ç”Ÿæˆ

### é—®é¢˜ï¼šJekyll æ„å»ºå¤±è´¥

**åŸå› **ï¼šå¯èƒ½æ˜¯ç”Ÿæˆçš„æ–‡ä»¶æ ¼å¼é”™è¯¯

**è§£å†³**ï¼šæ£€æŸ¥è„šæœ¬è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯ï¼Œä¿®å¤æ¨¡æ¿åé‡æ–°ç”Ÿæˆ

### é—®é¢˜ï¼šè¯­è¨€åˆ‡æ¢æ— æ³•å·¥ä½œ

**åŸå› **ï¼šä¸åŒè¯­è¨€ç‰ˆæœ¬çš„ `ref` å€¼ä¸åŒ¹é…

**è§£å†³**ï¼šç¡®ä¿æ‰€æœ‰è¯­è¨€æ–‡ä»¶éƒ½æœ‰ç›¸åŒçš„ `ref` å€¼

## æ€§èƒ½è¯´æ˜

- **ç”Ÿæˆæ—¶é—´**ï¼š5 ä¸ªæ¨¡æ¿ Ã— 2 è¯­è¨€ = 10 ä¸ªæ–‡ä»¶ï¼Œçº¦ 100ms
- **CI æ„å»º**ï¼šå¢åŠ  1-2 ç§’æ„å»ºæ—¶é—´
- **å¼€å‘ä½“éªŒ**ï¼šç¼–è¾‘æ¨¡æ¿åéœ€æ‰‹åŠ¨è¿è¡Œè„šæœ¬ï¼ˆæˆ–ä½¿ç”¨ watch.rbï¼‰

## æ¶æ„ä¼˜åŠ¿

âœ… **ç»´æŠ¤ç®€å•**ï¼šåªéœ€ç¼–è¾‘ä¸€ä»½æ¨¡æ¿
âœ… **ä¸€è‡´æ€§é«˜**ï¼šè‡ªåŠ¨ä¿è¯æ‰€æœ‰è¯­è¨€ç‰ˆæœ¬ç»“æ„ä¸€è‡´
âœ… **æ˜“äºæ‰©å±•**ï¼šæ·»åŠ æ–°è¯­è¨€åªéœ€æ›´æ–°ç¿»è¯‘æ–‡ä»¶
âœ… **æ— éœ€æ’ä»¶**ï¼šå®Œå…¨å…¼å®¹ GitHub Pages
âœ… **SEO å‹å¥½**ï¼šç”Ÿæˆç‹¬ç«‹çš„ URL è·¯å¾„ï¼ˆ`/en/`, `/zh/`ï¼‰

## ç›¸å…³æ–‡ä»¶

- ä¸»æ–‡æ¡£ï¼š[README.md](../README.md)
- æ¸¸æˆé›†æˆï¼š[GAME_INTEGRATION.md](./GAME_INTEGRATION.md)
- å·¥ä½œæµé…ç½®ï¼š[.github/workflows/pages.yml](../.github/workflows/pages.yml)
