---
title: "前端性能优化"
tags: ["frontend"]
---

# 前端性能优化

## 简介

前端性能直接影响用户体验。网站速度慢会导致高跳出率和低转化率。

## 核心 Web Vitals

### 1. 最大内容绘制 (LCP)
- **目标**: < 2.5 秒
- 最大元素渲染时间
- 影响感知加载性能

### 2. 首次输入延迟 (FID)
- **目标**: < 100 毫秒
- 从用户交互到响应的时间
- 衡量交互性

### 3. 累积布局偏移 (CLS)
- **目标**: < 0.1
- 意外的布局变化
- 影响视觉稳定性

## 性能优化技术

### 1. 图片优化
- 使用现代格式（WebP）
- 懒加载
- 响应式图片
- CDN 分发

### 2. 代码拆分
- 拆分大型包
- 懒加载路由
- 树摇动
- 移除未使用的代码

### 3. 缓存策略
- 浏览器缓存
- Service Workers
- CDN 缓存
- API 响应缓存

### 4. 关键 CSS
- 内联关键 CSS
- 延迟非关键 CSS
- 最小化 CSS 文件

## 监控工具

### Lighthouse
- 内置于 Chrome DevTools
- 审计性能、SEO、可访问性
- 提供可操作的建议

### Web Vitals 库
```javascript
import { getCLS, getFID, getLCP } from 'web-vitals';

getCLS(console.log);
getFID(console.log);
getLCP(console.log);
```

### RUM（真实用户监控）
- 收集真实性能数据
- 识别性能瓶颈
- 跟踪改进进展

## 最佳实践

1. **优化图片**: 图片文件通常是最大的资源
2. **最小化资源**: 移除不必要的字符
3. **使用压缩**: 启用 gzip/brotli 压缩
4. **优先加载首屏**: 先加载关键内容
5. **延迟非关键脚本**: 策略性地加载 JavaScript
6. **实现缓存**: 利用浏览器和 CDN 缓存

## 总结

前端性能是一个持续的过程。定期监控指标并根据真实用户数据进行优化。
